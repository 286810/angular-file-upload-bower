/**!
 * AngularJS file upload/drop directive with http post and progress
 * @author  Danial  <danial.farid@gmail.com>
 * @version 1.1.3
 */
(function(){var g=angular.module("angularFileUpload",[]);g.service("$upload",["$http",function(e){this.upload=function(a){a.method=a.method||"POST";a.headers=a.headers||{};a.headers["Content-Type"]=void 0;a.transformRequest=angular.identity;var d=new FormData;if(a.data)for(var b in a.data)d.append(b,a.data[b]);d.append(a.fileFormDataName||"file",a.file,a.file.name);d.__uploadProgress_=function(d){d&&a.progress(d)};a.data=d;var c=e(a);c.abort=function(){throw"upload is not started yet";};d.__setAbortFunction_=
function(d){c.abort=d};return c}}]);g.directive("ngFileSelect",["$parse","$http",function(e,a){return function(d,a,c){var h=e(c.ngFileSelect);a.bind("change",function(a){var c=[],b,f;b=a.target.files;if(null!=b)for(f=0;f<b.length;f++)c.push(b.item(f));d.$apply(function(){h(d,{$files:c,$event:a})})});a.bind("click",function(){this.value=null})}}]);g.directive("ngFileDropAvailable",["$parse","$http",function(e,a){return function(a,b,c){if("draggable"in document.createElement("span")){var h=e(c.ngFileDropAvailable);
a.$$phase?h(a):a.$apply(function(){h(a)})}}}]);g.directive("ngFileDrop",["$parse","$http",function(e,a){return function(a,b,c){if("draggable"in document.createElement("span")){var h=e(c.ngFileDrop);b[0].addEventListener("dragover",function(a){a.stopPropagation();a.preventDefault();b.addClass(c.ngFileDragOverClass||"dragover")},!1);b[0].addEventListener("dragleave",function(a){b.removeClass(c.ngFileDragOverClass||"dragover")},!1);b[0].addEventListener("drop",function(e){e.stopPropagation();e.preventDefault();
b.removeClass(c.ngFileDragOverClass||"dragover");var g=[],k=e.dataTransfer.files,f;if(null!=k)for(f=0;f<k.length;f++)g.push(k.item(f));a.$apply(function(){h(a,{$files:g,$event:e})})},!1)}}}])})();